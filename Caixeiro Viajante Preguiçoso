//Questao2
//Garotes de Programa- Ayla Rodrigues de Moura, Douglas Mareli, João Vitor Spala , Sofia Kitaeva - Questão 2

#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <limits.h>

//armazenando a distancia entre as cidades
	int main()
	{
		setlocale(LC_ALL, "");
		int cidades[3][3];
		int totalKm = 0;
	    
	    //entrada das distancias
		for (int i = 0; i <3; ++i)
		{
			for (int j = 0; j <3; ++j)
			{   
				if(i!=j && j>i)
				{
				printf("Qual a distancia da cidade %d e a cidade %d?\n", i+1 , j+1);
				scanf("%d", &cidades[i][j]);
				}else if(i == j)
				{
					cidades[i][j]= 0;
				}else if(j<i)
				{
					cidades[i][j]=cidades[j][i];
				}
			}
		}
		
		//iniciar com a escolha da cidade de partida
		int inicio;
		int visitadas[3]; //0 para não visitadas e 1 para visitadas
		printf("Qual a cidade de partida?\n");
		scanf("%d", &inicio);
		
		//atribuir 0 para todas as visitidas
		for(int i= 0; i<3; i++)
		{
			visitadas[i]=0;
		}
		
		visitadas[inicio-1] = 1;
		int ct, menor,cidadeProxima;
		//constante para determinar a proxima cidade
		ct = inicio-1;
		//atribuindo um valor menor que servirá para a comaparação
		if(ct==0){
			menor=cidades[0][1];
		}else{
			menor=cidades[inicio-1][0];
		}
		
		
	 	
		for(int j=0; j<3; j++) //caminho todo
		{
			for(int i=0; i<3; i++)//verificar o proximo
		    {
		        if(i != ct)
		        {
		  	        if(menor >= cidades[ct][i] && visitadas[i]==0)
		            {
		                menor = cidades[ct][i];
		                cidadeProxima = i+1;
		                totalKm+=menor;
		            }
		          }
		   	   }
		   	   
		    visitadas[cidadeProxima-1]=1;
		    ct = cidadeProxima-1;
		    printf("voce esta na cidade %d e andou %d km\n",ct,totalKm);
			int x = 0; //para saber se ainda existem cidades não visitadas
			for(int i = 0; i<3; i++)
			{
			    if(visitadas[i]==0) x++;
			}
			
		    if(x>0)
			{
				for(int k=0; k<3; k++)//atribuir um novo valor para ser usado com menor caminho a partir da cidade atual
			    {
				    	if(ct!=k && visitadas[k]==0)
				    	{
				    		menor=cidades[ct][k];
				    		break;
						}
					}
			}else{
				totalKm+=cidades[ct][inicio-1]; 
				break;  //se não existir mais cidades a serem visitadas, pare o programa.
			}
		}
		
		printf("o total em km foi: %d\n",totalKm);
		
	return 0;
	}
